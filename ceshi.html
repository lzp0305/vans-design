<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/minireset.min.css">
	<script src="js/jquery-1.7.1.min.js"></script>
	<script src="js/cover.js"></script>
	<style>
		ul {
			width: 300px;
			height: 200px;
			margin: 100px auto 0;
			overflow: hidden;
		}
		li {
			float: left;
			width: 100px;
			height: 100px;
			background-color: #ccc;
			position: relative;
			overflow: hidden;
		}
		.cover {
			width: 100%;
			height: 100%;
			position: absolute;
			top: -100%;
			height: -100%;
			background-color: #eee;
		}
		.trans {
			transition: all 0.3s;
			backface-visibility: hidden;
		}
	</style>
</head>
<body>
	<ul>
		<li>
			<div class="cover"></div>
		</li>
		<li>
			<div class="cover"></div>
		</li>
		<li>
			<div class="cover"></div>
		</li>
		<li>
			<div class="cover"></div>
		</li>
		<li>
			<div class="cover"></div>
		</li>
		<li>
			<div class="cover"></div>
		</li>
	</ul>
	<script>
		$(document).ready(function(direction) {
			var DIR_POS = {
				left: {
					top: '0',
					left: '-100%'
				},
				right: {
					top: '0',
					left: '100%'
				},
				bottom: {
					top: '100%',
					left: '0'
				},
				top: {
					top: '-100%',
					left: '0'
				}
			};

			$('li').each(function () {
				new MouseDirection(this, {
					enter: function ($element, dir) {
						//每次进入前先把.trans类移除掉，以免后面调整位置的时候也产生过渡效果
						var $content = $element.find('.cover').removeClass('trans');

						//调整位置
						$content.css(DIR_POS[dir]);

						//reflow
						$content[0].offsetWidth;

						//启用过渡
						$content.addClass('trans');

						//滑入
						$content.css({left: '0', top: '0'});
					},
					leave: function ($element, dir) {
						$element.find('.cover').css(DIR_POS[dir]);
					}
				});
			});
		});
	</script>
</body>
</html>